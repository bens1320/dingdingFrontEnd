(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4f4e183d"],{"1aab":function(e,t,s){},"45a9":function(e,t,s){"use strict";var a=s("1aab"),r=s.n(a);r.a},bb51:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("Message",{attrs:{show:e.msgShow,type:e.msgType,msg:e.msg},on:{"update:show":function(t){e.msgShow=t}}}),s("div",{staticClass:"col-md-12 topics-index main-col"},[s("div",{staticClass:"panel panel-default"},[s("div",{staticClass:"panel-heading text-left"},[s("div",{staticClass:"col-md-6 col-md-offset-3"},[s("div",{staticClass:"panel-body",attrs:{"data-validator-form":""}},[s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.nameOrId,expression:"nameOrId",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"请输入股票名或股票代码(必填)"},domProps:{value:e.nameOrId},on:{input:function(t){t.target.composing||(e.nameOrId=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.keywords,expression:"keywords",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"请输入搜索的关键词(可选)"},domProps:{value:e.keywords},on:{input:function(t){t.target.composing||(e.keywords=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"form-check-label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.reportType,expression:"reportType"}],staticClass:"form-check-input",attrs:{type:"radio",value:"first-session-report",name:"typeReport"},domProps:{checked:e._q(e.reportType,"first-session-report")},on:{change:function(t){e.reportType="first-session-report"}}}),s("span",[e._v("第一季度报")])]),s("label",{staticClass:"form-check-label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.reportType,expression:"reportType"}],staticClass:"form-check-input",attrs:{type:"radio",value:"mid-year-report",name:"typeReport"},domProps:{checked:e._q(e.reportType,"mid-year-report")},on:{change:function(t){e.reportType="mid-year-report"}}}),s("span",[e._v("年中报")])]),s("label",{staticClass:"form-check-label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.reportType,expression:"reportType"}],staticClass:"form-check-input",attrs:{type:"radio",value:"third-session-report",name:"typeReport"},domProps:{checked:e._q(e.reportType,"third-session-report")},on:{change:function(t){e.reportType="third-session-report"}}}),s("span",[e._v("第三季度报")])]),s("label",{staticClass:"form-check-label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.reportType,expression:"reportType"}],staticClass:"form-check-input",attrs:{type:"radio",value:"year-report",name:"typeReport"},domProps:{checked:e._q(e.reportType,"year-report")},on:{change:function(t){e.reportType="year-report"}}}),s("span",[e._v("年报")])])]),s("button",{staticClass:"btn btn-lg btn-success",staticStyle:{width:"48%"},attrs:{type:"submit"},on:{click:e.handleSearch}},[s("i",{staticClass:"fa fa-search"}),e._v(" 搜索 ")]),s("button",{staticClass:"btn btn-lg btn-success ",staticStyle:{width:"48%",float:"right"},attrs:{type:"submit"},on:{click:e.save}},[s("i",{staticClass:"fa fa-check-square"}),e._v(" 保存 ")]),s("div",{staticClass:"alert alert-secondary",staticStyle:{"margin-top":"10px"},attrs:{role:"alert"}},[e._v(" 提示: 可点击保存按钮保存搜索信息, 系统会根据搜索信息追踪表报发布情况, 匹配到最新的相关搜索信息, 会第一时间邮箱提醒. ")])])]),s("div",{staticClass:"clearfix"})]),s("div",{staticClass:"panel panel-default list-panel search-results"},[s("div",{staticClass:"panel-heading"},[s("h3",{staticClass:"panel-title"},[s("i",{staticClass:"fa fa-search"}),e._v(" 搜索共 "+e._s(e.searchList.length)+" 条 "),e.searchList.length?s("div",{staticClass:"pull-right"},[s("button",{staticClass:"btn btn-default btn-sm",attrs:{href:"javascript:;"},on:{click:e.sendEmail}},[e._v(" 打包发送 ")])]):e._e()])]),s("div",{staticClass:"panel-body"},[e._l(e.searchList,(function(t){return s("div",{staticClass:"result"},[s("h2",{staticClass:"title"},[s("a",{attrs:{target:"_blank",href:t.link}},[s("span",{domProps:{innerHTML:e._s(t.code)}}),s("span",{domProps:{innerHTML:e._s(t.title)}})]),s("small",[e._v(" 发布时间: "+e._s(e.formatDate(t.date)))])]),s("div",{staticClass:"desc",domProps:{innerHTML:e._s(t.content)}}),s("hr")])})),e.searchList.length?e._e():s("div",{staticClass:"empty-block"},[e._v(" 没有任何数据~~ ")])],2)])])])],1)},r=[],o=(s("4de4"),s("fb6a"),s("b0c0"),s("5530")),i=s("2f62"),n=s("bc3a"),c=s.n(n);s("4d63"),s("ac1f"),s("25f0"),s("5319");function l(e,t){/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));var s={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};for(var a in s)if(new RegExp("(".concat(a,")")).test(t)){var r=s[a]+"";t=t.replace(RegExp.$1,1===RegExp.$1.length?r:p(r))}return t}function p(e){return("00"+e).substr(e.length)}var u={name:"Home",components:{},data:function(){return{nameOrId:"",keywords:"",reportType:"first-session-report",value:"",searchList:[],msg:"",msgType:"",msgShow:!1,total:0,pageSize:10}},beforeRouteEnter:function(e,t,s){var a=t.name,r=e.params.logout;s((function(t){if(t.$store.state.auth)switch(a){case"Register":t.showMsg("注册成功");break;case"Login":t.showMsg("登录成功");break}else r&&t.showMsg("操作成功");t.setDataByFilter(e.query.filter)}))},computed:Object(o["a"])({},Object(i["b"])(["auth","user"]),{currentPage:function(){return parseInt(this.$route.query.page)||1}}),watch:{auth:function(e){e||this.showMsg("操作成功")},$route:function(e){this.setDataByFilter(e.query.filter)}},methods:{formatDate:function(e){e*=1e3;var t=new Date(e);return l(t,"yyyy-MM-dd hh:mm")},handleSearch:function(){var e=this,t={nameOrId:this.nameOrId,keywords:this.keywords,currentPage:this.currentPage,pageSize:this.pageSize,reportType:this.reportType};console.log(t),c.a.post("http://121.43.179.224:8000/api/esearch/",t).then((function(t){var s=parseInt(t.data["code"]),a=t.data["msg"];2001===s?(e.searchList=t.data["data"]||[],e.showMsgSuccess(a)):e.showMsgWarning(a)}))},save:function(){var e=this,t=localStorage.getItem("useremail");if(console.log(t),t){var s=Date.parse(new Date),a={nameOrId:this.nameOrId,keywords:this.keywords,email:localStorage.getItem("useremail"),reportType:this.reportType,createTime:s,action:"save"};c.a.post("http://121.43.179.224:8000/api/keywords/",a).then((function(t){console.log(t.data);var s=parseInt(t.data["code"]),a=t.data["msg"];e.showMsgSuccess(a),3001===s?(console.log(s),e.showMsgSuccess(a)):e.showMsgWarning(a)}))}else this.$swal({text:"该功能需要登录",confirmButtonText:"登录"}).then((function(t){e.$router.push({name:"Login"})}))},sendEmail:function(){var e=this,t=localStorage.getItem("useremail");if(console.log(t),t){var s={searchList:this.searchList,email:localStorage.getItem("useremail"),reportType:this.reportType};this.showMsgSuccess("正在发送中..."),c.a.post("http://121.43.179.224:8000/api/emails/",s).then((function(t){var s=parseInt(t.data["code"]),a=t.data["msg"];4001===s?e.showMsgSuccess(a):e.showMsgWarning(a)}))}else this.$swal({text:"该功能需要登录",confirmButtonText:"登录"}).then((function(t){e.$router.push({name:"Login"})}))},showMsgSuccess:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";this.msg=e,this.msgType=t,this.msgShow=!0},showMsgWarning:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";this.msg=e,this.msgType=t,this.msgShow=!0},setDataByFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mid-year-report",t=this.pageSize,s=this.currentPage,a=this.$store.getters.getArticlesByFilter(e);this.filter=e,this.total=a.length,this.articles=a.slice(t*(s-1),t*s)},changePage:function(e){this.$router.push({query:Object(o["a"])({},this.$route.query,{page:e})})}}},h=u,d=(s("45a9"),s("2877")),m=Object(d["a"])(h,a,r,!1,null,"11a16e9a",null);t["default"]=m.exports}}]);
//# sourceMappingURL=chunk-4f4e183d.ceb123eb.js.map
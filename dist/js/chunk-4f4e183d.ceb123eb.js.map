{"version":3,"sources":["webpack:///./src/views/Home.vue?a2a5","webpack:///./src/views/Home.vue?d560","webpack:///./src/plugins/formatDate.js","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?2b8c","webpack:///./src/views/Home.vue?a0f1"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","msgShow","msgType","msg","on","$event","staticClass","directives","name","rawName","value","expression","modifiers","domProps","target","composing","nameOrId","trim","$forceUpdate","keywords","_q","reportType","_v","staticStyle","handleSearch","save","_s","searchList","length","sendEmail","_e","_l","result","link","code","title","formatDate","date","content","staticRenderFns","fmt","test","replace","RegExp","$1","getFullYear","substr","o","getMonth","getDate","getHours","getMinutes","getSeconds","k","str","padLeftZero","component"],"mappings":"2IAAA,yBAAme,EAAG,G,yCCAte,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,UAAU,CAACE,MAAM,CAAC,KAAON,EAAIO,QAAQ,KAAOP,EAAIQ,QAAQ,IAAMR,EAAIS,KAAKC,GAAG,CAAC,cAAc,SAASC,GAAQX,EAAIO,QAAQI,MAAWP,EAAG,MAAM,CAACQ,YAAY,mCAAmC,CAACR,EAAG,MAAM,CAACQ,YAAY,uBAAuB,CAACR,EAAG,MAAM,CAACQ,YAAY,2BAA2B,CAACR,EAAG,MAAM,CAACQ,YAAY,4BAA4B,CAACR,EAAG,MAAM,CAACQ,YAAY,aAAaN,MAAM,CAAC,sBAAsB,KAAK,CAACF,EAAG,MAAM,CAACQ,YAAY,cAAc,CAACR,EAAG,QAAQ,CAACS,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,eAAeC,MAAOhB,EAAY,SAAEiB,WAAW,WAAWC,UAAU,CAAC,MAAO,KAAQN,YAAY,eAAeN,MAAM,CAAC,KAAO,OAAO,YAAc,mBAAmBa,SAAS,CAAC,MAASnB,EAAY,UAAGU,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOS,OAAOC,YAAqBrB,EAAIsB,SAASX,EAAOS,OAAOJ,MAAMO,SAAQ,KAAO,SAASZ,GAAQ,OAAOX,EAAIwB,qBAAqBpB,EAAG,MAAM,CAACQ,YAAY,cAAc,CAACR,EAAG,QAAQ,CAACS,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,eAAeC,MAAOhB,EAAY,SAAEiB,WAAW,WAAWC,UAAU,CAAC,MAAO,KAAQN,YAAY,eAAeN,MAAM,CAAC,KAAO,OAAO,YAAc,iBAAiBa,SAAS,CAAC,MAASnB,EAAY,UAAGU,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOS,OAAOC,YAAqBrB,EAAIyB,SAASd,EAAOS,OAAOJ,MAAMO,SAAQ,KAAO,SAASZ,GAAQ,OAAOX,EAAIwB,qBAAqBpB,EAAG,MAAM,CAACQ,YAAY,cAAc,CAACR,EAAG,QAAQ,CAACQ,YAAY,oBAAoB,CAACR,EAAG,QAAQ,CAACS,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOhB,EAAc,WAAEiB,WAAW,eAAeL,YAAY,mBAAmBN,MAAM,CAAC,KAAO,QAAQ,MAAQ,uBAAuB,KAAO,cAAca,SAAS,CAAC,QAAUnB,EAAI0B,GAAG1B,EAAI2B,WAAW,yBAAyBjB,GAAG,CAAC,OAAS,SAASC,GAAQX,EAAI2B,WAAW,2BAA2BvB,EAAG,OAAO,CAACJ,EAAI4B,GAAG,aAAaxB,EAAG,QAAQ,CAACQ,YAAY,oBAAoB,CAACR,EAAG,QAAQ,CAACS,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOhB,EAAc,WAAEiB,WAAW,eAAeL,YAAY,mBAAmBN,MAAM,CAAC,KAAO,QAAQ,MAAQ,kBAAkB,KAAO,cAAca,SAAS,CAAC,QAAUnB,EAAI0B,GAAG1B,EAAI2B,WAAW,oBAAoBjB,GAAG,CAAC,OAAS,SAASC,GAAQX,EAAI2B,WAAW,sBAAsBvB,EAAG,OAAO,CAACJ,EAAI4B,GAAG,WAAWxB,EAAG,QAAQ,CAACQ,YAAY,oBAAoB,CAACR,EAAG,QAAQ,CAACS,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOhB,EAAc,WAAEiB,WAAW,eAAeL,YAAY,mBAAmBN,MAAM,CAAC,KAAO,QAAQ,MAAQ,uBAAuB,KAAO,cAAca,SAAS,CAAC,QAAUnB,EAAI0B,GAAG1B,EAAI2B,WAAW,yBAAyBjB,GAAG,CAAC,OAAS,SAASC,GAAQX,EAAI2B,WAAW,2BAA2BvB,EAAG,OAAO,CAACJ,EAAI4B,GAAG,aAAaxB,EAAG,QAAQ,CAACQ,YAAY,oBAAoB,CAACR,EAAG,QAAQ,CAACS,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOhB,EAAc,WAAEiB,WAAW,eAAeL,YAAY,mBAAmBN,MAAM,CAAC,KAAO,QAAQ,MAAQ,cAAc,KAAO,cAAca,SAAS,CAAC,QAAUnB,EAAI0B,GAAG1B,EAAI2B,WAAW,gBAAgBjB,GAAG,CAAC,OAAS,SAASC,GAAQX,EAAI2B,WAAW,kBAAkBvB,EAAG,OAAO,CAACJ,EAAI4B,GAAG,YAAYxB,EAAG,SAAS,CAACQ,YAAY,yBAAyBiB,YAAY,CAAC,MAAQ,OAAOvB,MAAM,CAAC,KAAO,UAAUI,GAAG,CAAC,MAAQV,EAAI8B,eAAe,CAAC1B,EAAG,IAAI,CAACQ,YAAY,iBAAiBZ,EAAI4B,GAAG,UAAUxB,EAAG,SAAS,CAACQ,YAAY,0BAA0BiB,YAAY,CAAC,MAAQ,MAAM,MAAQ,SAASvB,MAAM,CAAC,KAAO,UAAUI,GAAG,CAAC,MAAQV,EAAI+B,OAAO,CAAC3B,EAAG,IAAI,CAACQ,YAAY,uBAAuBZ,EAAI4B,GAAG,UAAUxB,EAAG,MAAM,CAACQ,YAAY,wBAAwBiB,YAAY,CAAC,aAAa,QAAQvB,MAAM,CAAC,KAAO,UAAU,CAACN,EAAI4B,GAAG,0EAA0ExB,EAAG,MAAM,CAACQ,YAAY,eAAeR,EAAG,MAAM,CAACQ,YAAY,iDAAiD,CAACR,EAAG,MAAM,CAACQ,YAAY,iBAAiB,CAACR,EAAG,KAAK,CAACQ,YAAY,eAAe,CAACR,EAAG,IAAI,CAACQ,YAAY,iBAAiBZ,EAAI4B,GAAG,QAAQ5B,EAAIgC,GAAGhC,EAAIiC,WAAWC,QAAQ,OAAQlC,EAAIiC,WAAiB,OAAE7B,EAAG,MAAM,CAACQ,YAAY,cAAc,CAACR,EAAG,SAAS,CAACQ,YAAY,yBAAyBN,MAAM,CAAC,KAAO,gBAAgBI,GAAG,CAAC,MAAQV,EAAImC,YAAY,CAACnC,EAAI4B,GAAG,cAAc5B,EAAIoC,SAAShC,EAAG,MAAM,CAACQ,YAAY,cAAc,CAACZ,EAAIqC,GAAIrC,EAAc,YAAE,SAASsC,GAAQ,OAAOlC,EAAG,MAAM,CAACQ,YAAY,UAAU,CAACR,EAAG,KAAK,CAACQ,YAAY,SAAS,CAACR,EAAG,IAAI,CAACE,MAAM,CAAC,OAAS,SAAS,KAAOgC,EAAOC,OAAO,CAACnC,EAAG,OAAO,CAACe,SAAS,CAAC,UAAYnB,EAAIgC,GAAGM,EAAOE,SAASpC,EAAG,OAAO,CAACe,SAAS,CAAC,UAAYnB,EAAIgC,GAAGM,EAAOG,YAAYrC,EAAG,QAAQ,CAACJ,EAAI4B,GAAG,UAAU5B,EAAIgC,GAAGhC,EAAI0C,WAAWJ,EAAOK,YAAYvC,EAAG,MAAM,CAACQ,YAAY,OAAOO,SAAS,CAAC,UAAYnB,EAAIgC,GAAGM,EAAOM,YAAYxC,EAAG,WAAYJ,EAAIiC,WAAWC,OAAqElC,EAAIoC,KAAjEhC,EAAG,MAAM,CAACQ,YAAY,eAAe,CAACZ,EAAI4B,GAAG,iBAA0B,UAAU,IAC5nJiB,EAAkB,G,qHCDf,SAASH,EAAWC,EAAMG,GAC3B,OAAOC,KAAKD,KACdA,EAAMA,EAAIE,QAAQC,OAAOC,IAAKP,EAAKQ,cAAgB,IAAIC,OAAO,EAAIH,OAAOC,GAAGhB,UAE9E,IAAImB,EAAI,CACN,KAAMV,EAAKW,WAAa,EACxB,KAAMX,EAAKY,UACX,KAAMZ,EAAKa,WACX,KAAMb,EAAKc,aACX,KAAMd,EAAKe,cAEb,IAAK,IAAIC,KAAKN,EACZ,GAAI,IAAIJ,OAAJ,WAAeU,EAAf,MAAqBZ,KAAKD,GAAM,CAClC,IAAIc,EAAMP,EAAEM,GAAK,GACjBb,EAAMA,EAAIE,QAAQC,OAAOC,GAA0B,IAArBD,OAAOC,GAAGhB,OAAgB0B,EAAMC,EAAYD,IAG9E,OAAOd,EAGT,SAASe,EAAYD,GACnB,OAAQ,KAAOA,GAAKR,OAAOQ,EAAI1B,QC4FjC,OACE,KAAF,OACE,WAAF,GAGE,KALF,WAMI,MAAJ,CACM,SAAN,GACM,SAAN,GACM,WAAN,uBACM,MAAN,GACM,WAAN,GACM,IAAN,GACM,QAAN,GACM,SAAN,EACM,MAAN,EACM,SAAN,KAGE,iBAnBF,SAmBA,OACI,IAAJ,SACA,kBAEI,GAAJ,YACM,GAAN,oBACQ,OAAR,GACU,IAAV,WACY,EAAZ,gBACY,MACF,IAAV,QACY,EAAZ,gBACY,WAEZ,GACQ,EAAR,gBAGM,EAAN,oCAGE,SAAF,kBACA,gCADA,CAGI,YAHJ,WAIM,OAAN,uCAGE,MAAF,CACI,KADJ,SACA,GACA,GACQ,KAAR,iBAGI,OANJ,SAMA,GACM,KAAN,kCAGE,QAAF,CACI,WADJ,SACA,GACM,GAAN,IACM,IAAN,cACM,OAAN,yBAEI,aANJ,WAMM,IAAN,OACA,GACQ,SAAR,cACQ,SAAR,cACQ,YAAR,iBACQ,SAAR,cACQ,WAAR,iBAEM,QAAN,OACM,EAAN,sEACQ,IAAR,2BACA,gBACA,UACU,EAAV,8BACU,EAAV,mBAEU,EAAV,sBAMI,KA5BJ,WA4BM,IAAN,OACA,oCAEM,GADA,QAAN,OACA,GACQ,IAAR,uBACA,GACU,SAAV,cACU,SAAV,cACU,MAAV,kCACU,WAAV,gBACU,WAAV,EACU,OAAV,QAEQ,EAAR,uEACU,QAAV,YACU,IAAV,2BACA,gBACU,EAAV,kBACA,UACY,QAAZ,OACY,EAAZ,mBAEY,EAAZ,0BAIQ,KAAR,OACU,KAAV,UACU,kBAAV,OACA,kBACU,EAAV,cACY,KAAZ,cAMI,UAjEJ,WAiEM,IAAN,OACA,oCAEM,GADA,QAAN,OACA,GACQ,IAAR,GACU,WAAV,gBACU,MAAV,kCACU,WAAV,iBAEQ,KAAR,2BACQ,EAAR,qEACU,IAAV,2BACA,gBACA,SACY,EAAZ,kBAEY,EAAZ,0BAIQ,KAAR,OACU,KAAV,UACU,kBAAV,OACA,kBACU,EAAV,cACY,KAAZ,cAKI,eA/FJ,SA+FA,GAAM,IAAN,mEACM,KAAN,MACM,KAAN,UACM,KAAN,YAEI,eApGJ,SAoGA,GAAM,IAAN,mEACM,KAAN,MACM,KAAN,UACM,KAAN,YAEI,gBAzGJ,WAyGM,IAAN,2EAEA,gBAEA,mBAEA,6CAEM,KAAN,SAEM,KAAN,eAEM,KAAN,iBACA,QACA,MAII,WA3HJ,SA2HA,GAIM,KAAN,cAAQ,MAAR,qCAAU,KAAV,SCzS8U,I,wBCQ1U4B,EAAY,eACd,EACA/D,EACA8C,GACA,EACA,KACA,WACA,MAIa,aAAAiB,E","file":"js/chunk-4f4e183d.ceb123eb.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=11a16e9a&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=11a16e9a&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Message',{attrs:{\"show\":_vm.msgShow,\"type\":_vm.msgType,\"msg\":_vm.msg},on:{\"update:show\":function($event){_vm.msgShow=$event}}}),_c('div',{staticClass:\"col-md-12 topics-index main-col\"},[_c('div',{staticClass:\"panel panel-default\"},[_c('div',{staticClass:\"panel-heading text-left\"},[_c('div',{staticClass:\"col-md-6 col-md-offset-3\"},[_c('div',{staticClass:\"panel-body\",attrs:{\"data-validator-form\":\"\"}},[_c('div',{staticClass:\"form-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.nameOrId),expression:\"nameOrId\",modifiers:{\"trim\":true}}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"请输入股票名或股票代码(必填)\"},domProps:{\"value\":(_vm.nameOrId)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.nameOrId=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('div',{staticClass:\"form-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.keywords),expression:\"keywords\",modifiers:{\"trim\":true}}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"请输入搜索的关键词(可选)\"},domProps:{\"value\":(_vm.keywords)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.keywords=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"form-check-label\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.reportType),expression:\"reportType\"}],staticClass:\"form-check-input\",attrs:{\"type\":\"radio\",\"value\":\"first-session-report\",\"name\":\"typeReport\"},domProps:{\"checked\":_vm._q(_vm.reportType,\"first-session-report\")},on:{\"change\":function($event){_vm.reportType=\"first-session-report\"}}}),_c('span',[_vm._v(\"第一季度报\")])]),_c('label',{staticClass:\"form-check-label\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.reportType),expression:\"reportType\"}],staticClass:\"form-check-input\",attrs:{\"type\":\"radio\",\"value\":\"mid-year-report\",\"name\":\"typeReport\"},domProps:{\"checked\":_vm._q(_vm.reportType,\"mid-year-report\")},on:{\"change\":function($event){_vm.reportType=\"mid-year-report\"}}}),_c('span',[_vm._v(\"年中报\")])]),_c('label',{staticClass:\"form-check-label\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.reportType),expression:\"reportType\"}],staticClass:\"form-check-input\",attrs:{\"type\":\"radio\",\"value\":\"third-session-report\",\"name\":\"typeReport\"},domProps:{\"checked\":_vm._q(_vm.reportType,\"third-session-report\")},on:{\"change\":function($event){_vm.reportType=\"third-session-report\"}}}),_c('span',[_vm._v(\"第三季度报\")])]),_c('label',{staticClass:\"form-check-label\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.reportType),expression:\"reportType\"}],staticClass:\"form-check-input\",attrs:{\"type\":\"radio\",\"value\":\"year-report\",\"name\":\"typeReport\"},domProps:{\"checked\":_vm._q(_vm.reportType,\"year-report\")},on:{\"change\":function($event){_vm.reportType=\"year-report\"}}}),_c('span',[_vm._v(\"年报\")])])]),_c('button',{staticClass:\"btn btn-lg btn-success\",staticStyle:{\"width\":\"48%\"},attrs:{\"type\":\"submit\"},on:{\"click\":_vm.handleSearch}},[_c('i',{staticClass:\"fa fa-search\"}),_vm._v(\" 搜索 \")]),_c('button',{staticClass:\"btn btn-lg btn-success \",staticStyle:{\"width\":\"48%\",\"float\":\"right\"},attrs:{\"type\":\"submit\"},on:{\"click\":_vm.save}},[_c('i',{staticClass:\"fa fa-check-square\"}),_vm._v(\" 保存 \")]),_c('div',{staticClass:\"alert alert-secondary\",staticStyle:{\"margin-top\":\"10px\"},attrs:{\"role\":\"alert\"}},[_vm._v(\" 提示: 可点击保存按钮保存搜索信息, 系统会根据搜索信息追踪表报发布情况, 匹配到最新的相关搜索信息, 会第一时间邮箱提醒. \")])])]),_c('div',{staticClass:\"clearfix\"})]),_c('div',{staticClass:\"panel panel-default list-panel search-results\"},[_c('div',{staticClass:\"panel-heading\"},[_c('h3',{staticClass:\"panel-title\"},[_c('i',{staticClass:\"fa fa-search\"}),_vm._v(\" 搜索共 \"+_vm._s(_vm.searchList.length)+\" 条 \"),(_vm.searchList.length)?_c('div',{staticClass:\"pull-right\"},[_c('button',{staticClass:\"btn btn-default btn-sm\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":_vm.sendEmail}},[_vm._v(\" 打包发送 \")])]):_vm._e()])]),_c('div',{staticClass:\"panel-body\"},[_vm._l((_vm.searchList),function(result){return _c('div',{staticClass:\"result\"},[_c('h2',{staticClass:\"title\"},[_c('a',{attrs:{\"target\":\"_blank\",\"href\":result.link}},[_c('span',{domProps:{\"innerHTML\":_vm._s(result.code)}}),_c('span',{domProps:{\"innerHTML\":_vm._s(result.title)}})]),_c('small',[_vm._v(\" 发布时间: \"+_vm._s(_vm.formatDate(result.date)))])]),_c('div',{staticClass:\"desc\",domProps:{\"innerHTML\":_vm._s(result.content)}}),_c('hr')])}),(!_vm.searchList.length)?_c('div',{staticClass:\"empty-block\"},[_vm._v(\" 没有任何数据~~ \")]):_vm._e()],2)])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export function formatDate(date, fmt) {\n  if (/(y+)/.test(fmt)) {\n    fmt = fmt.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length))\n  }\n  let o = {\n    'M+': date.getMonth() + 1,\n    'd+': date.getDate(),\n    'h+': date.getHours(),\n    'm+': date.getMinutes(),\n    's+': date.getSeconds()\n  }\n  for (let k in o) {\n    if (new RegExp(`(${k})`).test(fmt)) {\n      let str = o[k] + ''\n      fmt = fmt.replace(RegExp.$1, (RegExp.$1.length === 1) ? str : padLeftZero(str))\n    }\n  }\n  return fmt\n}\n\nfunction padLeftZero(str) {\n  return ('00' + str).substr(str.length)\n}","<template>\n    <div>\n        <Message :show.sync=\"msgShow\" :type=\"msgType\" :msg=\"msg\"/>\n        <!-- 帖子列表 -->\n        <div class=\"col-md-12 topics-index main-col\">\n\n            <div class=\"panel panel-default\">\n\n                    <div class=\"panel-heading text-left\">\n                        <div class=\"col-md-6 col-md-offset-3\">\n                            <div class=\"panel-body\" data-validator-form>\n                                <div class=\"form-group\">\n                                    <input v-model.trim=\"nameOrId\" type=\"text\"\n                                           class=\"form-control\"  placeholder=\"请输入股票名或股票代码(必填)\">\n                                </div>\n                                <div class=\"form-group\">\n                                    <input v-model.trim=\"keywords\"\n                                           type=\"text\" class=\"form-control\" placeholder=\"请输入搜索的关键词(可选)\">\n                                </div>\n                                <div class=\"form-group\">\n\n                                    <label class=\"form-check-label\">\n                                        <input v-model=\"reportType\" class=\"form-check-input\" type=\"radio\"\n                                           value=\"first-session-report\" name=\"typeReport\" >\n                                        <span>第一季度报</span>\n                                    </label>\n\n\n                                    <label class=\"form-check-label\">\n                                        <input v-model=\"reportType\" class=\"form-check-input\" type=\"radio\"\n                                           value=\"mid-year-report\" name=\"typeReport\" >\n                                        <span>年中报</span>\n                                    </label>\n\n\n                                    <label class=\"form-check-label\">\n                                        <input v-model=\"reportType\" class=\"form-check-input\" type=\"radio\"\n                                           value=\"third-session-report\" name=\"typeReport\" >\n                                        <span>第三季度报</span>\n                                    </label>\n\n\n                                    <label class=\"form-check-label\">\n                                        <input v-model=\"reportType\" class=\"form-check-input\" type=\"radio\"\n                                           value=\"year-report\" name=\"typeReport\">\n                                        <span>年报</span>\n                                    </label>\n                                </div>\n\n                                <button @click=\"handleSearch\" type=\"submit\" style=\" width: 48%\"\n                                        class=\"btn btn-lg btn-success\">\n                                    <i class=\"fa fa-search\"></i> 搜索\n                                </button>\n\n                                <button @click=\"save\" type=\"submit\" style=\" width: 48%; float:right;\"\n                                        class=\"btn btn-lg btn-success \">\n                                    <i class=\"fa fa-check-square\"></i> 保存\n                                </button>\n                                <div class=\"alert alert-secondary\" role=\"alert\" style=\"margin-top: 10px\">\n                                    提示: 可点击保存按钮保存搜索信息, 系统会根据搜索信息追踪表报发布情况, 匹配到最新的相关搜索信息, 会第一时间邮箱提醒.\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"clearfix\"></div>\n                    </div>\n\n                <div class=\"panel panel-default list-panel search-results\">\n                    <div class=\"panel-heading\">\n                        <h3 class=\"panel-title\">\n                            <i class=\"fa fa-search\"></i>\n                            搜索共 {{ searchList.length }} 条\n\n                            <div v-if=\"searchList.length\" class=\"pull-right\">\n                                <button class=\"btn btn-default btn-sm\" href=\"javascript:;\" @click=\"sendEmail\">\n                                    打包发送\n                                </button>\n                            </div>\n                        </h3>\n                    </div>\n                    <div class=\"panel-body\">\n                        <div v-for=\"result in searchList\" class=\"result\">\n                            <h2 class=\"title\">\n                                <a target=\"_blank\" :href=\"result.link\"> <span\n                                        v-html=\"result.code\"></span><span\n                                        v-html=\"result.title\"></span></a>\n                                <small>&nbsp;发布时间: {{ formatDate(result.date)}}</small>\n                            </h2>\n                            <div class=\"desc\" v-html=\"result.content\"></div>\n                            <hr>\n                        </div>\n                        <div v-if=\"!searchList.length\" class=\"empty-block\">\n                            没有任何数据~~\n                        </div>\n                    </div>\n                </div>\n\n                <!-- 分页组件 -->\n<!--                <div class=\"panel-footer text-right remove-padding-horizontal pager-footer\">-->\n<!--                    <Pagination :currentPage=\"currentPage\" :total=\"total\" :pageSize=\"pageSize\"-->\n<!--                                :onPageChange=\"changePage\"/>-->\n<!--                </div>-->\n            </div>\n        </div>\n\n    </div>\n</template>\n\n<script>\n    import {mapState} from \"vuex\";\n    // 引入 TheSidebar.vue 的默认值\n    import axios from 'axios';\n    import {formatDate} from '@/plugins/formatDate.js'\n\n    export default {\n        name: \"Home\",\n        components: {\n            // 局部注册 TheSidebar\n        },\n        data() {\n            return {\n                nameOrId: \"\",\n                keywords: \"\",\n                reportType: \"first-session-report\",\n                value: \"\",\n                searchList: [],\n                msg: \"\",\n                msgType: \"\",\n                msgShow: false,\n                total: 0, // 总数\n                pageSize: 10, // 每页条数\n            };\n        },\n        beforeRouteEnter(to, from, next) {\n            const fromName = from.name;\n            const logout = to.params.logout;\n\n            next(vm => {\n                if (vm.$store.state.auth) {\n                    switch (fromName) {\n                        case \"Register\":\n                            vm.showMsg(\"注册成功\");\n                            break;\n                        case \"Login\":\n                            vm.showMsg(\"登录成功\");\n                            break;\n                    }\n                } else if (logout) {\n                    vm.showMsg(\"操作成功\");\n                }\n\n                vm.setDataByFilter(to.query.filter);\n            });\n        },\n        computed: {\n            ...mapState([\"auth\", \"user\"]),\n            // 当前页，从查询参数 page 返回\n            currentPage() {\n                return parseInt(this.$route.query.page) || 1;\n            }\n        },\n        watch: {\n            auth(value) {\n                if (!value) {\n                    this.showMsg(\"操作成功\");\n                }\n            },\n            $route(to) {\n                this.setDataByFilter(to.query.filter);\n            }\n        },\n        methods: {\n            formatDate(time) {\n                time = time * 1000\n                let date = new Date(time)\n                return formatDate(date, 'yyyy-MM-dd hh:mm')\n            },\n            handleSearch() {\n                const search = {\n                    nameOrId: this.nameOrId,\n                    keywords: this.keywords,\n                    currentPage: this.currentPage,\n                    pageSize: this.pageSize,\n                    reportType: this.reportType\n                }\n                console.log(search)\n                axios.post('http://121.43.179.224:8000/api/esearch/', search).then((res) => {\n                    const code = parseInt(res.data['code'])\n                    const msg = res.data['msg']\n                    if (code === 2001) {\n                        this.searchList = res.data[\"data\"] || []\n                        this.showMsgSuccess(msg)\n                    }else{\n                        this.showMsgWarning(msg)\n\n                    }\n                });\n            },\n\n            save() {\n                const useremail = localStorage.getItem(\"useremail\")\n                console.log(useremail)\n                if (useremail) {\n                    var timestamp = Date.parse(new Date());\n                    const search = {\n                        nameOrId: this.nameOrId,\n                        keywords: this.keywords,\n                        email: localStorage.getItem(\"useremail\"),\n                        reportType: this.reportType,\n                        createTime: timestamp,\n                        action: \"save\"\n                    }\n                    axios.post('http://121.43.179.224:8000/api/keywords/', search).then((res) => {\n                        console.log(res.data)\n                        const code = parseInt(res.data['code'])\n                        const msg = res.data['msg']\n                        this.showMsgSuccess(msg)\n                        if (code === 3001) {\n                            console.log(code)\n                            this.showMsgSuccess(msg)\n                        } else{\n                            this.showMsgWarning(msg)\n                        }\n                    });\n                } else {\n                    this.$swal({\n                        text: '该功能需要登录',\n                        confirmButtonText: '登录'\n                    }).then((res) => {\n                        this.$router.push({\n                            name: 'Login'\n                        })\n                    })\n                }\n\n            },\n            sendEmail() {\n                const useremail = localStorage.getItem(\"useremail\")\n                console.log(useremail)\n                if (useremail) {\n                    const search = {\n                        searchList: this.searchList,\n                        email: localStorage.getItem(\"useremail\"),\n                        reportType: this.reportType\n                    }\n                    this.showMsgSuccess(\"正在发送中...\")\n                    axios.post('http://121.43.179.224:8000/api/emails/', search).then((res) => {\n                        const code = parseInt(res.data['code'])\n                        const msg = res.data['msg']\n                        if (code === 4001) {\n                            this.showMsgSuccess(msg)\n                        }else{\n                            this.showMsgWarning(msg)\n                        }\n                    });\n                } else {\n                    this.$swal({\n                        text: '该功能需要登录',\n                        confirmButtonText: '登录'\n                    }).then((res) => {\n                        this.$router.push({\n                            name: 'Login'\n                        })\n                    })\n                }\n            },\n            showMsgSuccess(msg, type = \"success\") {\n                this.msg = msg;\n                this.msgType = type;\n                this.msgShow = true;\n            },\n            showMsgWarning(msg, type = \"warning\") {\n                this.msg = msg;\n                this.msgType = type;\n                this.msgShow = true;\n            },\n            setDataByFilter(filter = \"mid-year-report\") {\n                // 每页条数\n                const pageSize = this.pageSize;\n                // 当前页\n                const currentPage = this.currentPage;\n                // 过滤后的所有文章\n                const allArticles = this.$store.getters.getArticlesByFilter(filter);\n\n                this.filter = filter;\n                // 文章总数\n                this.total = allArticles.length;\n                // 当前页的文章\n                this.articles = allArticles.slice(\n                    pageSize * (currentPage - 1),\n                    pageSize * currentPage\n                );\n            },\n            // 回调，组件的当前页改变时调用\n            changePage(page) {\n                // 在查询参数中混入 page，并跳转到该地址\n                // 混入部分等价于 Object.assign({}, this.$route.query, { page: page })\n\n                this.$router.push({query: {...this.$route.query, page}});\n                // this.handleSearch()\n            }\n        }\n    };\n</script>\n\n<style scoped>\n    .result a:hover, .result a:focus {\n        color: #d6514d;\n        transition: color .15s ease;\n    }\n\n    .panel-title .btn {\n        margin-left: 5px;\n    }\n\n    .desc {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        display: -webkit-box;\n        -webkit-box-orient: vertical;\n        -webkit-line-clamp: 3;\n    }\n\n    @media (max-width: 767px) {\n        .pull-right {\n            margin-top: -10px\n        }\n    }\n    .form-check-label{\n        padding-right: 20px;\n        /*width: 20%;*/\n    }\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=11a16e9a&scoped=true&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=11a16e9a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"11a16e9a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}